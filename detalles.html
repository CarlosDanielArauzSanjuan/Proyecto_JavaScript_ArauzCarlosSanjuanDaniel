<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pergamino del Aventurero - D&D</title>
  <link rel="stylesheet" href="./styles/detalles.css" />
  <script src="src/logica.js" defer type="module"></script>
</head>
<body>
  <header class="headerDetails">
    <div class="header-decorations">
        <img src="./assets/dragon.png" alt="Dragón" class="header-icon dragon-icon">
        <img src="./assets/img/backgrounds/dice.png" alt="Dados" class="header-icon dice-icon">
        <div class="logo">
            <img src="./assets/Dungeons-and-Dragons-logo.png" alt="Logo D&D" onerror="this.onerror=null; this.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEHUlEQVR4nO2dW4hNURjHf2PGZVwil5kYt5TbICO5lGSKPCgP8iKXFE+UXKJQlJJCkQcPXkR5kFJKHpQHD0QpRHkQJZfJPTNmzMzSt9bRNmPO3mvvs9ba5/y/+j+dOWu+9f3PWXvttb+1wHEcx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3Ecx3GcVNQAncBzoBsYVOQCdAHvgA6gWjuQUaAJeAkMFbkAL4Am7UBGgVbgq3YQBSrAF6BFO5BR4KJ2EAUswAXtIEaBWuCndhAFKsAPoCbpQIZTfGwFJgJLgRZgDvAE6ANmAe+BH8A0YDYwHhgLvAZ+A/OAD8Av4AAwAZgKPAO+AYuAj8Ag0AgsAKqAB8B3YDmwCOgFHgGrgCXAVOAucBxYDUwG7gCngLXANOA+cBbYAMwAngJXgM3ATGAQuAFsA+qAV8Bt4ACwGOgBHgP7gSXAJ+AZcARYBnwGXgDHgJXAF+A1cBJYDXwF3gFngHXAb+A9cB7YCIwBPgJXgW3AeOANcAvYCUwCuoF7wB5gKtAH3Af2AfXAR+AhcAiYA/QCj4EjwHzgM/AcOAYsB74Ar4CTwBqgH3gLnAHWAwPAe+A8sAkYC3wCrgHbgQnAa+A2sBuYDPQA94G9QB3wAXgEHAYagR7gCXAUWAp8Al4CJ4BVwFfgHXAW2AD8Ad4DF4CNwBjgA3AV2A6MB94At4BdQDXQBdwF9gLTgD7gAXAAmA30Ao+BI8B84AvwAjgOLAe+Aa+Bk8AaYAB4B5wDNgGVwEfgGrADmAi8Bm4De4ApQA9wD9gP1AMfgIfAIWAu0As8AY4CS4HPwEvgBLAK6AfeAmeBjcAg8B64AGwGKoFPwHVgBzABeAPcAnYD1UA3cBfYB0wH+oAHwEFgDtALPAaOAguAr8AL4DiwAvgGvAZOAWuBAeAdcB7YBFQAn4BrwE5gIvAauAPsAaYCPcB94AAwG+gFHgNHgYXAF+AFcAJYDfQDb4GzwEZgEPgAXAK2ABXAJ+A6sBOYBLwB7gL7gWqgG7gL7AWmA33AfeAgMBfoBZ4AR4FFwGfgJXASWAP0A++Ac8BmoBL4CFwHdgITgdfAHWAPMAXoAe4BB4A5QC/wGDgKLAS+AC+A48AKoB94A5wG1gGDwHvgArAZqAA+AdeAHcBE4DVwG9gNVAPdwF1gHzAd6AMeAAeBOUAv8AQ4CiwCPgMvgZPAaqAfeAucAzYBlcBH4BqwE5gEvAHuAHuAqUAP8AA4AMwGeoHHwFFgIfAFeAmcAFYD/cBb4CywERgEPgCXgC1ABfAJuAHsBCYBb4C7wB6gGugG7gL7genAP0OLlKWcgZ3/AAAAAElFTkSuQmCC'">
        </div>
        <img src="./assets/img/backgrounds/dados.jpg" alt="Grimorio" class="header-icon grimoire-icon">
        <img src="./assets/img/backgrounds/espadas.png" alt="Espada" class="header-icon sword-icon">
    </div>
    <div class="referencies__intoPage">
      <a href="listas.html">← Volver al Salón de la Fama</a>
    </div>
  </header>

  <main>
    <div id="detailsCharacter">
      <!-- Aquí se cargarán los detalles del personaje -->
      <div class="loading-message">Cargando detalles del aventurero...</div>
    </div>
  </main>
  
  <footer>
    <div class="div__footer">
      <p>Inscrito en los Pergaminos del Destino</p>
      <p>Custodiado por Daniel Arauz y la Orden de los Escribas Arcanos</p>
      <p>2025</p>
    </div>
  </footer>

  <script>
    // Script de respaldo para manejar errores
    window.addEventListener('error', function(e) {
      console.error('Error detectado:', e.message);
      
      // Si hay un error al cargar los detalles, mostrar mensaje de error
      if (e.filename.includes('logica.js') || e.filename.includes('personajes.js')) {
        const detailsContainer = document.getElementById('detailsCharacter');
        if (detailsContainer) {
          detailsContainer.innerHTML = `
            <div class="error-message">
              <p>Ha ocurrido un error al consultar el Pergamino del Aventurero.</p>
              <p>Error: ${e.message}</p>
              <a href="listas.html" class="back-btn">Volver al Salón de la Fama</a>
            </div>
          `;
        }
      }
    }, true);
    
    // Verificar si se puede cargar el personaje después de 2 segundos
    setTimeout(function() {
      const detailsContainer = document.getElementById('detailsCharacter');
      if (detailsContainer && detailsContainer.children.length <= 1 && 
          detailsContainer.querySelector('.loading-message')) {
        detailsContainer.innerHTML = `
          <div class="error-message">
            <p>No se ha podido cargar el Pergamino del Aventurero.</p>
            <p>Verifica que hayas seleccionado un personaje válido.</p>
            <a href="listas.html" class="back-btn">Volver al Salón de la Fama</a>
          </div>
        `;
      }
    }, 2000);
  </script>
</body>
</html>
